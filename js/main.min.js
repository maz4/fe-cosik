!function(e){var t,r,n,i,s,o,a,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(r=document.createElement("source"),n=function(e){var t,n,i=e.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(t=r.cloneNode(),i.insertBefore(t,i.firstElementChild),setTimeout(function(){i.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,n=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=n}))},i=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)n(t[e])},s=function(){clearTimeout(t),t=setTimeout(i,99)},o=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){s(),o&&o.addListener&&o.addListener(s)},r.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),s))}(window),function(e,s,c){"use strict";var r,l,u;s.createElement("picture");var k={},o=!1,t=function(){},n=s.createElement("img"),h=n.getAttribute,p=n.setAttribute,d=n.removeAttribute,a=s.documentElement,i={},x={algorithm:""},f="data-pfsrc",m=f+"set",g=navigator.userAgent,E=/rident/.test(g)||/ecko/.test(g)&&g.match(/rv\:(\d+)/)&&35<RegExp.$1,D="currentSrc",v=/\s+\+?\d+(e\d+)?w/,A=/(\([^)]+\))?\s*(.+)/,w=e.picturefillCFG,y="font-size:100%!important;",b=!0,S={},C={},M=e.devicePixelRatio,T={px:1,in:96},L=s.createElement("a"),V=!1,P=/^[ \t\n\r\u000c]+/,q=/^[, \t\n\r\u000c]+/,z=/^[^ \t\n\r\u000c]+/,B=/[,]+$/,R=/^\d+$/,I=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,U=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},_=function(t){var n={};return function(e){return e in n||(n[e]=t(e)),n[e]}};function j(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var H,F,O,$,W,N,G,Q,K,J,X,Y,Z,ee,te,ne,ie,re,se,oe=(H=/^([\d\.]+)(em|vw|px)$/,F=_(function(e){return"return "+function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var n;if(!(e in S))if(S[e]=!1,t&&(n=e.match(H)))S[e]=n[1]*T[n[2]];else try{S[e]=new Function("e",F(e))(T)}catch(e){}return S[e]}),ae=function(e,t){return e.w?(e.cWidth=k.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(o){var t,n,i,r=e||{};if(r.elements&&1===r.elements.nodeType&&("IMG"===r.elements.nodeName.toUpperCase()?r.elements=[r.elements]:(r.context=r.elements,r.elements=null)),i=(t=r.elements||k.qsa(r.context||s,r.reevaluate||r.reselect?k.sel:k.selShort)).length){for(k.setupRun(r),V=!0,n=0;n<i;n++)k.fillImg(t[n],r);k.teardownRun(r)}}};function ce(e,t){return e.res-t.res}function le(e,t){var n,i,r;if(e&&t)for(r=k.parseSet(t),e=k.makeUrl(e),n=0;n<r.length;n++)if(e===k.makeUrl(r[n].url)){i=r[n];break}return i}e.console&&console.warn,D in n||(D="src"),i["image/jpeg"]=!0,i["image/gif"]=!0,i["image/png"]=!0,i["image/svg+xml"]=s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),k.ns=("pf"+(new Date).getTime()).substr(0,9),k.supSrcset="srcset"in n,k.supSizes="sizes"in n,k.supPicture=!!e.HTMLPictureElement,k.supSrcset&&k.supPicture&&!k.supSizes&&(O=s.createElement("img"),n.srcset="data:,a",O.src="data:,a",k.supSrcset=n.complete===O.complete,k.supPicture=k.supSrcset&&k.supPicture),k.supSrcset&&!k.supSizes?($="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",W=s.createElement("img"),N=function(){2===W.width&&(k.supSizes=!0),l=k.supSrcset&&!k.supSizes,o=!0,setTimeout(ue)},W.onload=N,W.onerror=N,W.setAttribute("sizes","9px"),W.srcset=$+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",W.src=$):o=!0,k.selShort="picture>img,img[srcset]",k.sel=k.selShort,k.cfg=x,k.DPR=M||1,k.u=T,k.types=i,k.setSize=t,k.makeUrl=_(function(e){return L.href=e,L.href}),k.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},k.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?k.matchesMedia=function(e){return!e||matchMedia(e).matches}:k.matchesMedia=k.mMQ,k.matchesMedia.apply(this,arguments)},k.mMQ=function(e){return!e||oe(e)},k.calcLength=function(e){var t=oe(e,!0)||!1;return t<0&&(t=!1),t},k.supportsType=function(e){return!e||i[e]},k.parseSize=_(function(e){var t=(e||"").match(A);return{media:t&&t[1],length:t&&t[2]}}),k.parseSet=function(e){return e.cands||(e.cands=function(i,h){function e(e){var t,n=e.exec(i.substring(o));if(n)return t=n[0],o+=t.length,t}var p,d,t,n,r,s=i.length,o=0,f=[];function a(){var e,t,n,i,r,s,o,a,u,c=!1,l={};for(i=0;i<d.length;i++)s=(r=d[i])[r.length-1],o=r.substring(0,r.length-1),a=parseInt(o,10),u=parseFloat(o),R.test(o)&&"w"===s?((e||t)&&(c=!0),0===a?c=!0:e=a):I.test(o)&&"x"===s?((e||t||n)&&(c=!0),u<0?c=!0:t=u):R.test(o)&&"h"===s?((n||t)&&(c=!0),0===a?c=!0:n=a):c=!0;c||(l.url=p,e&&(l.w=e),t&&(l.d=t),n&&(l.h=n),n||t||e||(l.d=1),1===l.d&&(h.has1x=!0),l.set=h,f.push(l))}function u(){for(e(P),t="",n="in descriptor";;){if(r=i.charAt(o),"in descriptor"===n)if(j(r))t&&(d.push(t),t="",n="after descriptor");else{if(","===r)return o+=1,t&&d.push(t),void a();if("("===r)t+=r,n="in parens";else{if(""===r)return t&&d.push(t),void a();t+=r}}else if("in parens"===n)if(")"===r)t+=r,n="in descriptor";else{if(""===r)return d.push(t),void a();t+=r}else if("after descriptor"===n)if(j(r));else{if(""===r)return void a();n="in descriptor",o-=1}o+=1}}for(;;){if(e(q),s<=o)return f;p=e(z),d=[],","===p.slice(-1)?(p=p.replace(B,""),a()):u()}}(e.srcset,e)),e.cands},k.getEmValue=function(){var e;if(!r&&(e=s.body)){var t=s.createElement("div"),n=a.style.cssText,i=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",a.style.cssText=y,e.style.cssText=y,e.appendChild(t),r=t.offsetWidth,e.removeChild(t),r=parseFloat(r,10),a.style.cssText=n,e.style.cssText=i}return r||16},k.calcListLength=function(e){if(!(e in C)||x.uT){var t=k.calcLength(function(e){var t,n,i,r,s,o,a,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=(n=function(e){var t,n="",i=[],r=[],s=0,o=0,a=!1;function u(){n&&(i.push(n),n="")}function c(){i[0]&&(r.push(i),i=[])}for(;;){if(""===(t=e.charAt(o)))return u(),c(),r;if(a){if("*"===t&&"/"===e[o+1]){a=!1,o+=2,u();continue}o+=1}else{if(j(t)){if(e.charAt(o-1)&&j(e.charAt(o-1))||!n){o+=1;continue}if(0===s){u(),o+=1;continue}t=" "}else if("("===t)s+=1;else if(")"===t)s-=1;else{if(","===t){u(),c(),o+=1;continue}if("/"===t&&"*"===e.charAt(o+1)){a=!0,o+=2;continue}}n+=t,o+=1}}}(e)).length,t=0;t<i;t++)if(s=(r=n[t])[r.length-1],a=s,u.test(a)&&0<=parseFloat(a)||c.test(a)||"0"===a||"-0"===a||"+0"===a){if(o=s,r.pop(),0===r.length)return o;if(r=r.join(" "),k.matchesMedia(r))return o}return"100vw"}(e));C[e]=t||T.width}return C[e]},k.setRes=function(e){var t;if(e)for(var n=0,i=(t=k.parseSet(e)).length;n<i;n++)ae(t[n],e.sizes);return t},k.setRes.res=ae,k.applySetCandidate=function(e,t){if(e.length){var n,i,r,s,o,a,u,c,l,h,p,d,f,m,g,v,A,w,y,b,S=t[k.ns],C=k.DPR;if(a=S.curSrc||t[D],(u=S.curCan||(h=t,p=a,!(d=e[0].set)&&p&&(d=(d=h[k.ns].sets)&&d[d.length-1]),(f=le(p,d))&&(p=k.makeUrl(p),h[k.ns].curSrc=p,(h[k.ns].curCan=f).res||ae(f,f.set.sizes)),f))&&u.set===e[0].set&&((l=E&&!t.complete&&u.res-.1>C)||(u.cached=!0,u.res>=C&&(o=u))),!o)for(e.sort(ce),o=e[(s=e.length)-1],i=0;i<s;i++)if((n=e[i]).res>=C){o=e[r=i-1]&&(l||a!==k.makeUrl(n.url))&&(m=e[r].res,g=n.res,v=C,A=e[r].cached,b=y=w=void 0,"saveData"===x.algorithm?2.7<m?b=v+1:(y=(g-v)*(w=Math.pow(m-.6,1.5)),A&&(y+=.1*w),b=m+y):b=1<v?Math.sqrt(m*g):m,v<b)?e[r]:n;break}o&&(c=k.makeUrl(o.url),S.curSrc=c,S.curCan=o,c!==a&&k.setSrc(t,o),k.setSize(t))}},k.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},k.getSet=function(e){var t,n,i,r=!1,s=e[k.ns].sets;for(t=0;t<s.length&&!r;t++)if((n=s[t]).srcset&&k.matchesMedia(n.media)&&(i=k.supportsType(n.type))){"pending"===i&&(n=i),r=n;break}return r},k.parseSets=function(e,t,n){var i,r,s,o,a=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[k.ns];(u.src===c||n.src)&&(u.src=h.call(e,"src"),u.src?p.call(e,f,u.src):d.call(e,f)),(u.srcset===c||n.srcset||!k.supSrcset||e.srcset)&&(i=h.call(e,"srcset"),u.srcset=i,o=!0),u.sets=[],a&&(u.pic=!0,function(e,t){var n,i,r,s,o=e.getElementsByTagName("source");for(n=0,i=o.length;n<i;n++)(r=o[n])[k.ns]=!0,(s=r.getAttribute("srcset"))&&t.push({srcset:s,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}(t,u.sets)),u.srcset?(r={srcset:u.srcset,sizes:h.call(e,"sizes")},u.sets.push(r),(s=(l||u.src)&&v.test(u.srcset||""))||!u.src||le(u.src,r)||r.has1x||(r.srcset+=", "+u.src,r.cands.push({url:u.src,d:1,set:r}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=c,u.supported=!(a||r&&!k.supSrcset||s&&!k.supSizes),o&&k.supSrcset&&!u.supported&&(i?(p.call(e,m,i),e.srcset=""):d.call(e,m)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==k.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},k.fillImg=function(e,t){var n,i,r,s,o,a=t.reselect||t.reevaluate;(e[k.ns]||(e[k.ns]={}),n=e[k.ns],a||n.evaled!==u)&&(n.parsed&&!t.reevaluate||k.parseSets(e,e.parentNode,t),n.supported?n.evaled=u:(i=e,s=k.getSet(i),o=!1,"pending"!==s&&(o=u,s&&(r=k.setRes(s),k.applySetCandidate(r,i))),i[k.ns].evaled=o))},k.setupRun=function(){V&&!b&&M===e.devicePixelRatio||(b=!1,M=e.devicePixelRatio,S={},C={},k.DPR=M||1,T.width=Math.max(e.innerWidth||0,a.clientWidth),T.height=Math.max(e.innerHeight||0,a.clientHeight),T.vw=T.width/100,T.vh=T.height/100,u=[T.height,T.width,M].join("-"),T.em=k.getEmValue(),T.rem=T.em)},k.supPicture?(ue=t,k.fillImg=t):(Z=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function(){var e=s.readyState||"";te=setTimeout(ee,"loading"===e?200:999),s.body&&(k.fillImgs(),(G=G||Z.test(e))&&clearTimeout(te))},te=setTimeout(ee,s.body?9:99),ne=a.clientHeight,U(e,"resize",(Q=function(){b=Math.max(e.innerWidth||0,a.clientWidth)!==T.width||a.clientHeight!==ne,ne=a.clientHeight,b&&k.fillImgs()},K=99,Y=function(){var e=new Date-X;e<K?J=setTimeout(Y,K-e):(J=null,Q())},function(){X=new Date,J||(J=setTimeout(Y,K))})),U(s,"readystatechange",ee)),k.picturefill=ue,k.fillImgs=ue,k.teardownRun=t,ue._=k,e.picturefillCFG={pf:k,push:function(e){var t=e.shift();"function"==typeof k[t]?k[t].apply(k,e):(x[t]=e[0],V&&k.fillImgs({reselect:!0}))}};for(;w&&w.length;)e.picturefillCFG.push(w.shift());e.picturefill=ue,"object"==typeof module&&"object"==typeof module.exports?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),k.supPicture||(i["image/webp"]=(ie="image/webp",re="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(se=new e.Image).onerror=function(){i[ie]=!1,ue()},se.onload=function(){i[ie]=1===se.width,ue()},se.src=re,"pending"))}(window,document),function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e.Mustache={},t(e.Mustache))}(this,function(b){var t=Object.prototype.toString,S=Array.isArray||function(e){return"[object Array]"===t.call(e)};function c(e){return"function"==typeof e}function C(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"==typeof e&&t in e}var i=RegExp.prototype.test;var r=/\S/;function k(e){return t=r,n=e,!i.call(t,n);var t,n}var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var x=/\s*/,E=/\s+/,D=/\s*=/,M=/\s*\}/,T=/#|\^|\/|>|\{|&|=|!/;function L(e){this.string=e,this.tail=e,this.pos=0}function s(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function e(){this.cache={}}L.prototype.eos=function(){return""===this.tail},L.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},L.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},s.prototype.push=function(e){return new s(e,this)},s.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var i,r,s=this,o=!1;s;){if(0<e.indexOf("."))for(t=s.view,i=e.split("."),r=0;null!=t&&r<i.length;)r===i.length-1&&(o=a(t,i[r])),t=t[i[r++]];else t=s.view[e],o=a(s.view,e);if(o)break;s=s.parent}n[e]=t}return c(t)&&(t=t.call(this.view)),t},e.prototype.clearCache=function(){this.cache={}},e.prototype.parse=function(e,t){var n=this.cache,i=n[e];return null==i&&(i=n[e]=function(e,t){if(!e)return[];var n,i,r,s=[],o=[],a=[],u=!1,c=!1;function l(){if(u&&!c)for(;a.length;)delete o[a.pop()];else a=[];c=u=!1}function h(e){if("string"==typeof e&&(e=e.split(E,2)),!S(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(C(e[0])+"\\s*"),i=new RegExp("\\s*"+C(e[1])),r=new RegExp("\\s*"+C("}"+e[1]))}h(t||b.tags);for(var p,d,f,m,g,v,A=new L(e);!A.eos();){if(p=A.pos,f=A.scanUntil(n))for(var w=0,y=f.length;w<y;++w)k(m=f.charAt(w))?a.push(o.length):c=!0,o.push(["text",m,p,p+1]),p+=1,"\n"===m&&l();if(!A.scan(n))break;if(u=!0,d=A.scan(T)||"name",A.scan(x),"="===d?(f=A.scanUntil(D),A.scan(D),A.scanUntil(i)):"{"===d?(f=A.scanUntil(r),A.scan(M),A.scanUntil(i),d="&"):f=A.scanUntil(i),!A.scan(i))throw new Error("Unclosed tag at "+A.pos);if(g=[d,f,p,A.pos],o.push(g),"#"===d||"^"===d)s.push(g);else if("/"===d){if(!(v=s.pop()))throw new Error('Unopened section "'+f+'" at '+p);if(v[1]!==f)throw new Error('Unclosed section "'+v[1]+'" at '+p)}else"name"===d||"{"===d||"&"===d?c=!0:"="===d&&h(f)}if(v=s.pop())throw new Error('Unclosed section "'+v[1]+'" at '+A.pos);return function(e){for(var t,n=[],i=n,r=[],s=0,o=e.length;s<o;++s)switch((t=e[s])[0]){case"#":case"^":i.push(t),r.push(t),i=t[4]=[];break;case"/":r.pop()[5]=t[2],i=0<r.length?r[r.length-1][4]:n;break;default:i.push(t)}return n}(function(e){for(var t,n,i=[],r=0,s=e.length;r<s;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}(o))}(e,t)),i},e.prototype.render=function(e,t,n){var i=this.parse(e),r=t instanceof s?t:new s(t);return this.renderTokens(i,r,n,e)},e.prototype.renderTokens=function(e,t,n,i){for(var r,s,o,a="",u=0,c=e.length;u<c;++u)o=void 0,"#"===(s=(r=e[u])[0])?o=this.renderSection(r,t,n,i):"^"===s?o=this.renderInverted(r,t,n,i):">"===s?o=this.renderPartial(r,t,n,i):"&"===s?o=this.unescapedValue(r,t):"name"===s?o=this.escapedValue(r,t):"text"===s&&(o=this.rawValue(r)),void 0!==o&&(a+=o);return a},e.prototype.renderSection=function(e,t,n,i){var r=this,s="",o=t.lookup(e[1]);if(o){if(S(o))for(var a=0,u=o.length;a<u;++a)s+=this.renderTokens(e[4],t.push(o[a]),n,i);else if("object"==typeof o||"string"==typeof o||"number"==typeof o)s+=this.renderTokens(e[4],t.push(o),n,i);else if(c(o)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(o=o.call(t.view,i.slice(e[3],e[5]),function(e){return r.render(e,t,n)}))&&(s+=o)}else s+=this.renderTokens(e[4],t,n,i);return s}},e.prototype.renderInverted=function(e,t,n,i){var r=t.lookup(e[1]);if(!r||S(r)&&0===r.length)return this.renderTokens(e[4],t,n,i)},e.prototype.renderPartial=function(e,t,n){if(n){var i=c(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i),t,n,i):void 0}},e.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},e.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return b.escape(n)},e.prototype.rawValue=function(e){return e[1]},b.name="mustache.js",b.version="2.3.0",b.tags=["{{","}}"];var o=new e;return b.clearCache=function(){return o.clearCache()},b.parse=function(e,t){return o.parse(e,t)},b.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(S(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return o.render(e,t,n)},b.to_html=function(e,t,n,i){var r=b.render(e,t,n);if(!c(i))return r;i(r)},b.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return n[e]})},b.Scanner=L,b.Context=s,b.Writer=e,b}),function(e){"use strict";e.sedona=e.sedona||{},e.sedona.MobileMenu={init:function(e){this.elem=e,this.button=this.elem.querySelector(".main-nav__toggle"),this.elem.classList.add("main-nav--close"),this.bindEvents()},bindEvents:function(){this.button.addEventListener("click",this.onButtonClick.bind(this))},onButtonClick:function(e){e.preventDefault(),this.elem.classList.toggle("main-nav--close")}}}(window),function(e){"use strict";e.sedona=e.sedona||{},e.sedona.GoogleMaps={init:function(e){this.elem=e},initMap:function(){var e={lat:34.8689738,lng:-111.7700938},t=new google.maps.Map(this.elem,{zoom:7,center:e});new google.maps.Marker({position:e,map:t,icon:"../img/icon-map-marker.svg",title:"Sedona"})}}}(window),function(e){"use strict";e.sedona=e.sedona||{},e.sedona.Counter={init:function(e){this.elem=e.elem,this.initialValue=e.initialValue||1,this.maxValue=e.maxValue||365,this.minValue=e.minValue||1,this.step=e.step||1,this.buttonMinus=this.elem.querySelector(".form__btn--dec"),this.buttonPlus=this.elem.querySelector(".form__btn--inc"),this.displayContainer=this.elem.querySelector(".form__number-holder"),this.counterValue=this.initialValue,this.displayContainer.textContent=this.counterValue,this.buttonMinus.addEventListener("click",this.onButtonMinusClick.bind(this)),this.buttonPlus.addEventListener("click",this.onButtonPlusClick.bind(this))},renderNumber:function(){this.displayContainer.textContent=this.counterValue},onButtonMinusClick:function(){this.counterValue=this.counterValue-1,this.counterValue<this.minValue?this.counterValue=this.minValue:(this.renderNumber(),this.minusButtonHandler(this.counterValue))},onButtonPlusClick:function(){this.counterValue=this.counterValue+1,this.counterValue>this.maxValue?this.counterValue=this.maxValue:(this.renderNumber(),this.plusButtonHandler(this.counterValue))},plusButtonHandler:function(){},minusButtonHandler:function(){}}}(window),function(e){"use strict";var t=Object.create(e.sedona.Counter);t.setup=function(e){this.init(e),this.checkin=this.elem.querySelector("#checkin"),this.checkout=this.elem.querySelector("#checkout"),this.checkin.value=this.getTodaysDate(),this.updateCheckoutDate(),this.checkin.addEventListener("change",this.onCheckinDateChange.bind(this)),this.checkout.addEventListener("change",this.onCheckoutDateChange.bind(this))},t.formatDate=function(e){var t=e.getFullYear(),n="0"+(e.getMonth()+1),i="0"+e.getDate();return t+"-"+n.slice(-2)+"-"+i.slice(-2)},t.getTodaysDate=function(){return this.formatDate(new Date)},t.getCheckoutDate=function(){var e=new Date(this.checkin.value);return e.setDate(e.getDate()+this.counterValue),this.formatDate(e)},t.getCheckinDate=function(){var e=new Date(this.checkout.value);return e.setDate(e.getDate()-this.counterValue),this.formatDate(e)},t.updateCheckinDate=function(){this.checkin.value=this.getCheckinDate()},t.updateCheckoutDate=function(){this.checkout.value=this.getCheckoutDate()},t.onCheckinDateChange=function(){this.updateCheckoutDate()},t.onCheckoutDateChange=function(){this.updateCheckinDate()},t.plusButtonHandler=function(){this.updateCheckoutDate()},t.minusButtonHandler=function(){this.updateCheckoutDate()},e.sedona=e.sedona||{},e.sedona.DateCounter=t}(window),function(e){"use-strict";var t=Object.create(e.sedona.Counter);t.setup=function(e){this.init(e),this.template=e.template,this.peopleContainer=this.elem.querySelector(".form__inner")},t.plusButtonHandler=function(e){this.addPerson(e)},t.minusButtonHandler=function(e){this.removePerson(e)},t.addPerson=function(e){var t=Mustache.render(this.template,{index:e});this.peopleContainer.insertAdjacentHTML("beforeend",t)},t.removePerson=function(e){var t=this.elem.querySelector(".person-template-"+(e+1));t&&this.peopleContainer.removeChild(t)},e.sedona=e.sedona||{},e.sedona.PeopleCounter=t}(window),function(e){"use strict";var t={init:function(e){this.elem=e.elem,this.template=e.template,this.previewContainer=this.elem.querySelector(".form__display-photos"),this.fileInput=this.elem.querySelector(".form__input--photos"),this.fileInput.addEventListener("change",this.onInputChange.bind(this)),this.queue=[],this.removeButton=this.elem.querySelector(".form__remove-btn")},getImages:function(){return this.queue},onInputChange:function(){for(var e=this.fileInput.files,t=0;t<e.length;t++)this.preview(e[t]);this.fileInput.value=""},preview:function(t){if(t.type.match(/image.*/)){var e=new FileReader;e.addEventListener("load",function(e){this.onFileLoad(e,t)}.bind(this)),e.readAsDataURL(t)}},removePreview:function(t){this.queue=this.queue.filter(function(e){return e.previewImage!=t}),t.parentNode.removeChild(t)},onFileLoad:function(e,t){var n=Mustache.render(this.template,{file:e.target.result}),i=document.createElement("div");i.classList.add("form__grid-item"),i.innerHTML=n,this.previewContainer.appendChild(i),i.querySelector(".form__remove-btn").addEventListener("click",function(e){e.preventDefault(),this.removePreview(i)}.bind(this)),this.queue.push({file:t,previewImage:i})}};e.sedona=e.sedona||{},e.sedona.PhotoSelector=t}(window),function(){"use strict";var e={init:function(e){this.form=e.elem,this.url=e.url,this.photoSelector=e.photoSelector,this.form.addEventListener("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){e.preventDefault();var t=new FormData(this.form);this.photoSelector.getImages().forEach(function(e){t.append("images",e.file)}),this.request(t)},request:function(e){var t=new XMLHttpRequest;t.open("post",this.url),t.addEventListener("load",function(){200<=this.status&&this.status<400?(console.log(this.responseText),alert("Form submited successfully")):alert("Server returned an error",this.status)}),t.addEventListener("error",function(){alert("Network error.")}),t.send(e)}};window.sedona=window.sedona||{},window.sedona.SendForm=e}(),function(e){"use strict";var t=document.querySelector(".main-nav");t&&Object.create(e.MobileMenu).init(t);var n=document.querySelector(".js-google-map");if(n){var i=Object.create(e.GoogleMaps);i.init(n),google.maps.event.addDomListener(window,"load",i.initMap.bind(i))}var r=document.querySelectorAll(".js-counter-days");if(r.length)for(var s=0;s<r.length;s++){Object.create(e.DateCounter).setup({elem:r[s]})}var o=document.querySelectorAll(".js-counter-people");if(o.length){var a=document.querySelector("#person-template").innerHTML;for(s=0;s<o.length;s++){Object.create(e.PeopleCounter).setup({elem:o[s],maxValue:20,template:a})}}var u=document.querySelector(".form");if(u&&"FormData"in window){var c=document.querySelector(".js-add-photos"),l=(a=document.querySelector("#photo-template").innerHTML,Object.create(e.PhotoSelector)),h=Object.create(e.SendForm);l.init({elem:c,template:a}),h.init({elem:u,url:"https://echo.htmlacademy.ru/adaptive",photoSelector:l})}}(window.sedona||{});